<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>NovelWaveHz</title>
  <link rel="icon" type="image/png" href="Data/NWheadlogo.png" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/lucide@latest"></script>
  <style>
    :root {
      --bg: #f5f5f5;
      --card: #ffffff;
      --text: #111827;
      --muted: #6b7280;
      --accent: #305caa;
      --button-bg: #111827;
      --button-text: #ffffff;
      --play-blue: #0078ff;
      --shadow: 0 4px 10px rgba(0, 0, 0, 0.08);
      --comment-bg: #e9f0fb;
      --comment-border: #d1e2f6;
      --comment-highlight: #305caa;
      --max-width: 900px;
    }
    body.dark {
      --bg: #2e2e2e;
      --card: #343434;
      --text: #eef2f6;
      --muted: #bfc6cd;
      --accent: #99b7ff;
      --button-bg: #d1d5db;
      --button-text: #111827;
      --play-blue: #1a73e8;
      --shadow: 0 6px 18px rgba(0, 0, 0, 0.45);
      --comment-bg: #4b4b4b;
      --comment-border: #666;
      --comment-highlight: #99b7ff;
    }
    * { box-sizing: border-box; }
    html, body {
      height: 100%;
      margin: 0;
      padding: 0;
      font-family: "Inter", Arial, sans-serif;
      background-color: var(--bg);
      color: var(--text);
      transition: background-color 0.3s ease, color 0.3s ease;
      display: flex;
      flex-direction: column;
      min-height: 100vh;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }
    main {
      flex: 1;
      display: flex;
      flex-direction: column;
      gap: 1.5rem;
      padding: 1rem;
      max-width: var(--max-width);
      margin: 1rem auto;
      animation: fadeIn 0.4s ease;
      width: calc(100% - 2rem);
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(8px);}
      to { opacity: 1; transform: none;}
    }
    .horizontal-scroll-wrapper { position: relative; }

    #sliderArea {
      -webkit-overflow-scrolling: touch;
      scroll-behavior: smooth;
      scroll-snap-type: x mandatory;
      position: relative;
      overflow: visible !important;   /* Key: Let arrows appear outside card */
    }
    #slideContent > * {
      scroll-snap-align: start;
    }
    /* Arrows vertically centered and outside */
    #prevBtn, #nextBtn {
      top: 50%;
      transform: translateY(-50%);
      position: absolute;
      box-shadow: var(--shadow);
      background: rgba(255,255,255,0.93);
      border-radius: 50%;
      z-index: 10;
      border: none;
      padding: 12px 14px;
      cursor: pointer;
      transition: background 0.2s, transform 0.2s;
    }
    #prevBtn:hover, #nextBtn:hover {
      background: #fff;
      transform: translateY(-50%) scale(1.12);
    }
    #prevBtn {
      left: -54px;  /* Place arrow completely outside */
    }
    #nextBtn {
      right: -54px;
    }
    #prevBtn i, #nextBtn i {
      width: 26px !important;
      height: 26px !important;
      color: #444;
      display: block;
    }
    @media (max-width: 900px) {
      #prevBtn { left: -30px; }
      #nextBtn { right: -30px; }
    }
    @media (max-width: 600px) {
      #sliderArea {
        overflow-x: auto;
        padding: 1rem 1.2rem !important;
      }
      #slideContent {
        flex-wrap: nowrap;
        gap: 24px !important;
      }
      #prevBtn, #nextBtn {
        padding: 10px !important;
      }
      #prevBtn { left: -18px !important;}
      #nextBtn { right: -18px !important;}
    }
    /* --- Other UI/section/mobile improvements as before --- */
    /* (You can collapse these if you already have them) */
    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0.8rem 1.2rem;
      background-color: var(--card);
      box-shadow: var(--shadow);
      position: sticky;
      top: 0;
      z-index: 100;
      transition: background-color 0.3s ease, box-shadow 0.3s ease;
    }
    .logo-container { display: flex; align-items: center; gap: 0.6rem; }
    .logo-container img { height: 58px; width: auto; transition: transform 0.25s ease; }
    .logo-container:hover img { transform: scale(1.03);}
    .logo-text { font-weight: 700; font-size: clamp(1.3rem, 2.2vw, 1.8rem); letter-spacing: 2px; color: var(--text);}
    .actions-container { display: flex; align-items: center; gap: 1rem;}
    header a i.fab.fa-youtube { font-size: 2rem; color: #FF0000;}
    .theme-toggle { background: none; border: 2px solid var(--muted); color: var(--text); border-radius: 50%; width: 38px; height: 38px; display: flex; align-items: center; justify-content: center; font-size: 1.1rem; cursor: pointer; transition: all 0.25s ease;}
    .theme-toggle:hover { background-color: var(--muted); color: var(--bg);}
    body.dark .theme-toggle:hover { background-color: var(--accent); color: var(--button-bg);}
    /* --- (Include your previous section/comment/footer/mobile CSS, unchanged) --- */
  </style>
</head>
<body class="light">
  <header>
    <div class="logo-container">
      <img id="logo" src="Data/nwb.svg" alt="NovelWave Logo" />
      <span class="logo-text">NovelWaveHz</span>
    </div>
    <div class="actions-container">
      <a href="https://www.youtube.com/@NovelWaveHz/" target="_blank" rel="noopener noreferrer" aria-label="YouTube Channel">
        <i class="fab fa-youtube"></i>
      </a>
      <button class="theme-toggle" id="themeToggle" aria-label="Toggle theme">ðŸŒ™</button>
    </div>
  </header>
  <main>
    <div class="horizontal-scroll-wrapper" aria-label="Novel slider">
      <div id="sliderArea" class="relative bg-white/80 backdrop-blur-sm rounded-3xl shadow-2xl overflow-visible p-2 md:p-8 max-w-5xl mx-auto">
        <button id="prevBtn" aria-label="Previous item">
          <i data-lucide="chevron-left"></i>
        </button>
        <div id="slideContent" class="flex flex-row items-center gap-4 md:gap-16 max-w-5xl mx-auto"></div>
        <button id="nextBtn" aria-label="Next item">
          <i data-lucide="chevron-right"></i>
        </button>
        <div class="flex justify-center gap-2 pb-8" id="dots"></div>
      </div>
    </div>
    <a href="https://www.youtube.com/@NovelWaveHz?sub_confirmation=1" target="_blank" rel="noopener noreferrer" class="subscribe-image-link" aria-label="Subscribe to NovelWaveHz channel">
      <div class="subscribe-image-box">
        <img src="Data/sub.png" alt="Subscribe Button" class="subscribe-image" />
      </div>
    </a>
    <section class="comment-section" aria-labelledby="comments-heading">
      <h3 id="comments-heading">@NovelWaveHz Comments</h3>
      <div id="comment-container">
        <article id="comment-card" role="article" aria-live="polite" aria-atomic="true">
          <div id="commentor-name">Loading...</div>
          <div id="comment-text"></div>
        </article>
      </div>
      <button id="prev-button" disabled aria-label="View Previous Comment">View Previous Comment</button>
    </section>
  </main>
  <div class="ad-section" aria-label="Advertisement">
    <a href="https://elevenreader.io/referral/a4KMjhx6" target="_blank" rel="noopener noreferrer">
      <img src="Data/ad.jpg" alt="Advertisement" />
    </a>
  </div>
  <section class="thank-card" aria-labelledby="thank-heading">
    <h1 id="thank-heading">Thank you for your support</h1>
    <p class="lead">I want to express my sincere gratitude to everyone who used referral link.</p>
    <div class="stats" role="list" aria-label="Referral statistics">
      <div class="stat" role="listitem"><span class="label">Total Referrals</span><span class="value">6</span></div>
      <div class="stat" role="listitem"><span class="label">Listening Hours Earned</span><span class="value">30</span></div>
      <div class="stat" role="listitem"><span class="label">Projected Chapters</span><span class="value">150</span></div>
      <div class="stat" role="listitem"><span class="label">Estimated Savings</span>
        <div class="value">
          <span class="usd">USD: <strong>$10.66</strong></span><br />
          <span class="inr">INR: <strong>â‚¹888</strong></span>
        </div>
      </div>
    </div>
    <div class="smw-container">
      <h1 class="smw-title">Support My Work</h1>
      <p class="smw-text">
        Since the channel isnâ€™t monetized right now, your support helps me keep creating the content you enjoy.
        <br />Your contribution no matter the amount truly makes a difference.
        <br />If you value the content, please consider supporting the channel.
      </p>
      <a class="smw-button" href="https://buymeacoffee.com/Jo3416" target="_blank" rel="noopener noreferrer">
        <span class="smw-emoji">â˜•</span>Buy Me a Coffee
      </a>
    </div>
  </section>
  <footer>
    <nav aria-label="Social media navigation">
      <a href="https://www.youtube.com/@NovelWaveHz/" target="_blank" rel="noopener noreferrer" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
      <a href="https://www.instagram.com/novelwavehz" target="_blank" rel="noopener noreferrer" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
      <a href="mailto:proxyac31@gmail.com" aria-label="Email"><i class="fas fa-envelope"></i></a>
      <a href="https://buymeacoffee.com/Jo3416" target="_blank" rel="noopener noreferrer" aria-label="Buy Me a Coffee"><i class="fas fa-mug-hot"></i></a>
    </nav>
  </footer>
  <script>
    const toggleBtn = document.getElementById("themeToggle");
    const body = document.body;
    const logo = document.getElementById("logo");

    function applyTheme(isDark) {
      if (isDark) {
        body.classList.add("dark");
        toggleBtn.textContent = "â˜€ï¸";
        logo.src = "Data/nww.svg";
      } else {
        body.classList.remove("dark");
        toggleBtn.textContent = "ðŸŒ™";
        logo.src = "Data/nwb.svg";
      }
    }
    const savedTheme = localStorage.getItem("theme");
    if (savedTheme === "dark") applyTheme(true);
    toggleBtn.addEventListener("click", () => {
      const isDark = !body.classList.contains("dark");
      applyTheme(isDark);
      localStorage.setItem("theme", isDark ? "dark" : "light");
    });

    // Comments system
    const commentorName = document.getElementById('commentor-name');
    const commentText = document.getElementById('comment-text');
    const prevButton = document.getElementById('prev-button');
    const COMMENT_INTERVAL_MS = 5000;
    let comments = [], history = [], intervalId;

    async function loadComments() {
      try {
        const response = await fetch('Data/comments.txt');
        const text = await response.text();
        comments = text.split('\n').map(line => {
          let [commentor, ...commentParts] = line.split(':');
          return {commentor: commentor ? commentor.trim() : '',commentText: commentParts.join(':').trim()};
        }).filter(c => c.commentor && c.commentText);
        if (comments.length === 0) {
          commentorName.textContent = "No comments found.";commentText.textContent = "";return;
        }
        startCommentRotation();
      } catch (error) {
        commentorName.textContent = "Error loading comments.";
        commentText.textContent = "Make sure 'comments.txt' exists and is accessible.";
      }
    }
    function displayRandomComment() {
      if (comments.length === 0) return;
      let randomIndex = Math.floor(Math.random() * comments.length);
      let previousIndex = history.length > 0 ? history[history.length - 1] : -1;
      while (randomIndex === previousIndex && comments.length > 1) {randomIndex = Math.floor(Math.random() * comments.length);}
      history.push(randomIndex);
      if (history.length > 10) history.shift();
      setComment(comments[randomIndex]);
      updatePrevButtonState();
    }
    function setComment(comment) {
      commentorName.textContent = comment.commentor;
      commentText.textContent = comment.commentText;
    }
    function viewPreviousComment() {
      if (history.length <= 1) return;
      history.pop();
      const previousIndex = history.pop();
      if (previousIndex !== undefined) {
        history.push(previousIndex);
        setComment(comments[previousIndex]);
      }
      updatePrevButtonState();
      resetCommentRotation();
    }
    function updatePrevButtonState() {prevButton.disabled = history.length <= 1;}
    function startCommentRotation() {
      displayRandomComment();
      intervalId = setInterval(displayRandomComment, COMMENT_INTERVAL_MS);
    }
    function resetCommentRotation() {
      clearInterval(intervalId);
      intervalId = setInterval(displayRandomComment, COMMENT_INTERVAL_MS);
    }
    prevButton.addEventListener('click', viewPreviousComment);
    loadComments();

    // Slider system
    const movies = [
      { title: "Reverend Insanity", rating: "R+", genres: "Xianxia, Dark-fantasy, Isekai.", poster: "https://raw.githubusercontent.com/JOCRZ/notionpage/main/Data/RI.png", detailPage: "ri.html" },
      { title: "The Pefect Run", rating: "PG-13", genres: "Superpower, Action, Adventure.", poster: "https://raw.githubusercontent.com/JOCRZ/notionpage/main/Data/TPR.png", detailPage: "soon.html" },
      { title: "Omniscent Reader's View Point", rating: "PG-13", genres: "Reverse-Isekai, Apocalypse, Action.", poster: "https://raw.githubusercontent.com/JOCRZ/notionpage/main/Data/ORV.png", detailPage: "soon.html" },
      { title: "Shadow Slave", rating: "PG-13", genres: "Post-Apocalyptic, System, Action.", poster: "https://raw.githubusercontent.com/JOCRZ/notionpage/main/Data/SS.jpg", detailPage: "soon.html" }
    ];
    let currentSlide = 0;
    const slideContent = document.getElementById("slideContent");
    const dotsContainer = document.getElementById("dots");
    function renderSlide() {
      const m = movies[currentSlide];
      slideContent.innerHTML = `
        <div class="flex-1 text-center md:text-left space-y-3 md:space-y-6">
          <h1 class="text-2xl md:text-7xl font-bold text-gray-900">${m.title}</h1>
          <div class="flex items-center gap-1 md:gap-3 text-gray-600 text-sm md:text-xl justify-center md:justify-start">
            <span class="font-semibold">${m.rating}</span>
            <span class="text-gray-400">|</span>
            <span>${m.genres}</span>
          </div>
        </div>
        <div class="flex-shrink-0">
          <div class="relative group">
            <div class="absolute inset-0 bg-gradient-to-t from-black/20 to-transparent rounded-2xl"></div>
            <a href="${m.detailPage}" aria-label="View details for ${m.title}">
              <img src="${m.poster}" alt="${m.title}"
              class="w-32 h-48 md:w-80 md:h-[480px] object-cover rounded-2xl shadow-2xl transition-transform duration-300 group-hover:scale-105" />
            </a>
          </div>
        </div>
      `;
      renderDots(); lucide.createIcons();
    }
    function renderDots() {
      dotsContainer.innerHTML = movies.map((_, i) =>
        `<button onclick="goToSlide(${i})" class="h-2 rounded-full transition-all duration-300 ${i===currentSlide?"w-8 bg-black":"w-2 bg-gray-400 hover:bg-gray-600"}"></button>`
      ).join("");
    }
    function nextSlide() {currentSlide = (currentSlide + 1) % movies.length;renderSlide();}
    function prevSlide() {currentSlide = (currentSlide - 1 + movies.length) % movies.length;renderSlide();}
    function goToSlide(index) {currentSlide = index;renderSlide();}
    document.getElementById("nextBtn").onclick = nextSlide;
    document.getElementById("prevBtn").onclick = prevSlide;
    let startX = 0;
    const sliderArea = document.getElementById("sliderArea");
    sliderArea.addEventListener("touchstart",(e)=>{startX = e.touches[0].clientX;});
    sliderArea.addEventListener("touchend",(e)=>{
      const endX = e.changedTouches[0].clientX;
      if (startX - endX > 50) nextSlide();
      if (endX - startX > 50) prevSlide();
    });
    renderSlide();
  </script>
</body>
</html>
