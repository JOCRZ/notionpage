<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Reverend Insanity - Chapters | NovelWave</title>

  <!-- Font Awesome for icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <style>
    :root{
      --bg:#f5f5f5;
      --card:#fff;
      --text:#222;
      --muted:#666;
      --accent:#222;
      --shadow:rgba(0,0,0,0.08);
      --accent-strong:#4a90e2;
    }
    body.dark{
      --bg:#1e1e1e;
      --card:#2e2e2e;
      --text:#eee;
      --muted:#bbb;
      --accent:#ccc;
      --shadow:rgba(0,0,0,0.4);
      --accent-strong:#4a90e2;
    }

    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:Inter, Arial, sans-serif;
      background:var(--bg);
      color:var(--text);
      display:flex;
      flex-direction:column;
      min-height:100vh;
      transition:background .25s, color .25s;
    }

    header{
      background:var(--card);
      padding:1rem 1.25rem;
      display:flex;
      justify-content:space-between;
      align-items:center;
      box-shadow:0 2px 8px var(--shadow);
      position:sticky;
      top:0;
      z-index:30;
    }
    .logo{font-weight:700; letter-spacing:1px; text-decoration:none; color:var(--text)}
    .theme-toggle{
      background:var(--accent);
      color:#fff;
      border:0;
      border-radius:8px;
      padding:.45rem .85rem;
      cursor:pointer;
      font-weight:600;
    }

    main{max-width:1200px; margin:1rem auto; width:95%; display:flex; gap:1rem; align-items:flex-start; flex-wrap:wrap;}
    .left{
      flex: 0 0 280px;
      display:flex;
      flex-direction:column;
      gap:1rem;
    }

    .novel-card{
      background:var(--card);
      border-radius:12px;
      padding:1rem;
      box-shadow:0 4px 12px var(--shadow);
      text-align:center;
    }
    .novel-card img{width:175px;height:242px;object-fit:contain;border-radius:8px;display:block;margin:0 auto 0.8rem; background:#ddd}
    .novel-card h1{margin:.1rem 0;font-family:Georgia,serif;font-style:italic;font-size:1.2rem}
    .novel-card p{margin:.4rem 0 0;color:var(--muted); font-style:italic}

    .arc-list{
      background:var(--card);
      border-radius:12px;
      padding:.75rem;
      box-shadow:0 4px 12px var(--shadow);
    }
    .arc-list h3{margin:0 0 .5rem 0;font-size:1rem}
    .arc-items{display:flex;flex-direction:column;gap:.4rem}
    .arc-item{
      background:transparent;
      border:1px solid rgba(0,0,0,0.06);
      color:var(--text);
      padding:.5rem .75rem;
      border-radius:8px;
      cursor:pointer;
      text-align:left;
      font-weight:600;
    }
    .arc-item.active{
      background:var(--accent-strong);
      color:#fff;
      border-color:var(--accent-strong);
    }

    .right{flex:1; min-width:320px; display:flex;flex-direction:column; gap:1rem;}
    .controls{display:flex; gap:.5rem; align-items:center; justify-content:flex-end;}
    .find-row{display:flex; gap:.4rem; align-items:center}
    .search-input{
      width:110px;
      padding:.45rem .6rem;
      border-radius:8px;
      border:1px solid rgba(0,0,0,0.08);
      background:var(--card);
      color:var(--text);
    }
    .control-button{
      background:var(--accent);
      color:#fff;
      border:0;
      padding:.45rem .7rem;
      border-radius:8px;
      cursor:pointer;
      font-weight:700;
    }

    .chapter-card{
      background:var(--card);
      border-radius:12px;
      padding:1rem;
      box-shadow:0 6px 18px var(--shadow);
    }
    .chapter-grid{
      display:grid;
      grid-template-columns: repeat(auto-fill, minmax(60px, 1fr));
      gap:.6rem;
    }
    .chapter-link{
      display:block;
      padding:.6rem .4rem;
      background:var(--card);
      border-radius:8px;
      border:1px solid rgba(0,0,0,0.06);
      text-align:center;
      text-decoration:none;
      color:var(--text);
      font-weight:700;
      transition:transform .12s;
      box-shadow:0 2px 6px rgba(0,0,0,0.06);
      font-size:0.9rem;
    }
    .chapter-link.current{background:var(--accent);color:#fff;border-color:var(--accent);}
    .chapter-link.found{outline:3px solid var(--accent-strong);}

    footer{margin-top:1rem;background:var(--card); padding:.8rem;border-radius:10px; text-align:center; box-shadow:0 3px 8px var(--shadow)}
    footer nav{display:flex; gap:1rem; justify-content:center; align-items:center}
    footer a{color:var(--text); text-decoration:none; display:flex; gap:.5rem; align-items:center; font-weight:600}
  </style>
</head>
<body class="dark">

<header>
  <a class="logo" href="index.html">NOVELWAVE</a>
  <button id="themeToggle" class="theme-toggle">‚òÄÔ∏è Light Mode</button>
</header>

<main>
  <div class="left">
    <div class="novel-card">
      <img src="Data/RI.png" alt="Reverend Insanity cover">
      <h1>Reverend Insanity</h1>
      <p>An epic tale of a cunning immortal reborn in a cruel world where strength rules.</p>
    </div>

    <div class="arc-list">
      <h3>Arcs</h3>
      <div class="arc-items"></div>
    </div>
  </div>

  <div class="right">
    <div class="controls">
      <div class="find-row">
        <input id="searchInput" class="search-input" type="number" min="1" placeholder="Go to #">
        <button id="findBtn" class="control-button">Find</button>
      </div>
    </div>

    <div class="chapter-card">
      <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:.75rem;">
        <strong>Chapters</strong>
        <span style="color:var(--muted); font-weight:600">Total: <span id="totalCount">0</span></span>
      </div>
      <div id="chapterGrid" class="chapter-grid"></div>
    </div>
  </div>
</main>

<footer>
  <nav>
    <a href="#"><i class="fab fa-youtube"></i> YouTube</a>
    <a href="#"><i class="fab fa-instagram"></i> Instagram</a>
    <a href="#"><i class="fas fa-mug-hot"></i> Buy Me a Coffee</a>
  </nav>
</footer>

<script>
/********** Theme toggle **********/
const body = document.body;
const themeToggle = document.getElementById('themeToggle');
const saved = localStorage.getItem('theme');
if(saved === 'light') body.classList.remove('dark');
themeToggle.textContent = body.classList.contains('dark') ? '‚òÄÔ∏è Light Mode' : 'üåô Dark Mode';
themeToggle.addEventListener('click', () => {
  body.classList.toggle('dark');
  localStorage.setItem('theme', body.classList.contains('dark') ? 'dark' : 'light');
  themeToggle.textContent = body.classList.contains('dark') ? '‚òÄÔ∏è Light Mode' : 'üåô Dark Mode';
});

/********** Manual Arcs + Chapters **********/
const arcs = [
  {
    name: "Arc 1 - Awakening",
    chapters: [
      { num: 1, link: "chapters/ch1.html" },
      { num: 2, link: "chapters/ch2.html" },
      { num: 3, link: "chapters/ch3.html" },
      { num: 4, link: "https://example.com/ch4" }
    ]
  },
  {
    name: "Arc 2 - Ascension",
    chapters: [
      { num: 5, link: "chapters/ch5.html" },
      { num: 6, link: "chapters/ch6.html" },
      { num: 7, link: "https://example.com/ch7" }
    ]
  }
];

let totalChapters = arcs.reduce((sum,a)=>sum+a.chapters.length,0);
document.getElementById('totalCount').textContent = totalChapters;

const chapterGrid = document.getElementById('chapterGrid');
const arcContainer = document.querySelector('.arc-items');

function renderChapters(chapters){
  chapterGrid.innerHTML = '';
  chapters.forEach(ch=>{
    const a = document.createElement('a');
    a.href = ch.link;
    a.className = 'chapter-link';
    a.textContent = ch.num;
    a.id = `chapter-${ch.num}`;
    chapterGrid.appendChild(a);
  });
}

function renderArcs(){
  arcContainer.innerHTML = '';
  arcs.forEach((arc, idx)=>{
    const btn = document.createElement('button');
    btn.className = 'arc-item';
    btn.textContent = arc.name;
    if(idx===0) btn.classList.add('active');
    btn.addEventListener('click', ()=>{
      document.querySelectorAll('.arc-item').forEach(b=>b.classList.remove('active'));
      btn.classList.add('active');
      renderChapters(arc.chapters);
    });
    arcContainer.appendChild(btn);
  });
  renderChapters(arcs[0].chapters);
}
renderArcs();

/********** Find Functionality **********/
const searchInput = document.getElementById('searchInput');
const findBtn = document.getElementById('findBtn');

findBtn.addEventListener('click', ()=>{
  const val = parseInt(searchInput.value,10);
  if(!Number.isInteger(val)){alert('Enter a chapter number');return;}
  const ch = arcs.flatMap(a=>a.chapters).find(c=>c.num===val);
  if(!ch){alert('Chapter not found');return;}
  // find which arc contains it
  const arcIndex = arcs.findIndex(a=>a.chapters.some(c=>c.num===val));
  if(arcIndex>=0){
    document.querySelectorAll('.arc-item').forEach((b,i)=>b.classList.toggle('active',i===arcIndex));
    renderChapters(arcs[arcIndex].chapters);
  }
  setTimeout(()=>{
    const el = document.getElementById(`chapter-${val}`);
    if(el){
      el.scrollIntoView({behavior:'smooth',block:'center'});
      el.classList.add('found');
      setTimeout(()=>el.classList.remove('found'),1200);
    }
  },80);
  searchInput.value='';
});
</script>
</body>
</html>
